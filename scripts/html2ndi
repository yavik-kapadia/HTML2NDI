#!/bin/bash
#
# HTML2NDI Command-Line Wrapper
# Runs the .app bundle with command-line arguments
#

# Get the directory containing this script
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_DIR="$(dirname "$SCRIPT_DIR")"

# Find the .app bundle
APP_BUNDLE="$PROJECT_DIR/build/bin/HTML2NDI.app"

if [[ ! -d "$APP_BUNDLE" ]]; then
    echo "Error: HTML2NDI.app not found at: $APP_BUNDLE"
    echo "Please build the project first:"
    echo "  cd build && cmake --build ."
    exit 1
fi

# Run the executable inside the bundle
exec "$APP_BUNDLE/Contents/MacOS/html2ndi" "$@"

